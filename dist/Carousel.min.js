!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react")):"function"==typeof define&&define.amd?define(["react"],e):"object"==typeof exports?exports.Carousel=e(require("react")):t.Carousel=e(t.React)}(this,function(t){return function(t){function e(i){if(s[i])return s[i].exports;var r=s[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var s={};return e.m=t,e.c=s,e.p="",e(0)}([function(t,e,s){var i=s(1),r=s(2),n=s(3),o=2,h=i.createClass({displayName:"carousel",getInitialState:function(){return{centeredItemIndex:0,centerItemProgress:.5}},componentDidMount:function(){this.parentElementWidth=i.findDOMNode(this).clientWidth,window.addEventListener("resize",this.onResize),this.forceUpdate()},componentWillUnmount:function(){window.removeEventListener("resize",this.onResize)},onResize:function(){this.parentElementWidth=i.findDOMNode(this).clientWidth,this.forceUpdate()},getContainerWidth:function(){return this.props.width||this.parentElementWidth},getItemWidth:function(){return this.props.itemWidth||this.getContainerWidth()/2||0},getItemsPerSide:function(){return this.props.numberOfRenderItemsPerSide||o},getScrollerSize:function(){return(this.props.itemsCount-1)*(this.getItemWidth()+this.getItemsSpacing())},getItemsSpacing:function(){return this.props.spacing||this.getItemWidth()/6||0},onScroll:function(t){var e=this.getItemsSpacing(),s=this.getItemWidth()+e,i=Math.max(0,Math.min(this.props.itemsCount-1,this.getCenterLeavingItem(t,s))),r=i*s-this.getContainerWidth()/2-this.getItemWidth()/2,n=(t-r)/(this.getContainerWidth()+this.getItemWidth());this.setState({centeredItemIndex:i,centerItemProgress:n})},getCenterLeavingItem:function(t,e){var s=this.state.centeredItemIndex,i=Math.floor(t/e),r=Math.ceil(t/e);return s=i>=this.state.centeredItemIndex?i:r},renderItem:function(t){var e=this.getContainerWidth(),s=(this.state.centerItemProgress>.5,this.getItemWidth()),r=this.getItemProgress(t),o=r*(e+s)-s,h=n.applyTranslateStyle({width:this.getItemWidth(),height:"100%",position:"absolute",top:"0px",left:"0px"},o,0,0);return i.createElement("div",{key:"carouselItem"+t%(2*this.getItemsPerSide()+1),style:h},this.props.itemRenderer(t,r))},getItemProgress:function(t){var e=t-this.state.centeredItemIndex,s=this.getContainerWidth(),i=this.getItemsSpacing(),r=this.getItemWidth(),n=s-this.state.centerItemProgress*(s+r)||0,o=n+e*i+e*r;return(o+r)/(s+r)},render:function(){return i.createElement(r,{size:this.getScrollerSize(),snap:this.getItemWidth()+this.getItemsSpacing(),onScroll:this.onScroll},i.createElement("div",{style:{width:this.getContainerWidth(),height:"100%",overflow:"hidden",position:"relative"}},this.renderBackground(),this.renderItems()))},renderItems:function(){for(var t=[this.renderItem(this.state.centeredItemIndex)],e=1;e<=this.getItemsPerSide();++e)this.state.centeredItemIndex-e>=0&&t.unshift(this.renderItem(this.state.centeredItemIndex-e)),this.state.centeredItemIndex+e<this.props.itemsCount&&t.push(this.renderItem(this.state.centeredItemIndex+e));return t},renderBackground:function(){var t=this.state.centerItemProgress>.5,e=this.state.centeredItemIndex,s=this.getContainerWidth(),i=this.getItemWidth();.5!=this.state.centerItemProgress&&(t&&this.props.itemsCount>this.state.centeredItemIndex+1?e++:!t&&e>0&&e--);var r=Math.abs(this.getItemProgress(this.state.centeredItemIndex)-.5)*(s+i);return this.props.backgroundRenderer(this.state.centeredItemIndex,e,r/i)}});h.propTypes={backgroundRenderer:i.PropTypes.func,itemRenderer:i.PropTypes.func,itemWidth:i.PropTypes.number,width:i.PropTypes.number,spacing:i.PropTypes.number,numberOfRenderItemsPerSide:i.PropTypes.number,itemsCount:i.PropTypes.number},t.exports=h},function(e,s,i){e.exports=t},function(t,e,s){var i=s(1),r=250,n=i.createClass({displayName:"HorizontalScroller",timestamp:0,frame:0,velocity:0,amplitude:0,pressed:0,ticker:0,reference:0,offset:0,target:0,render:function(){return i.createElement("div",{onTouchStart:this.tap,onTouchMove:this.drag,onTouchEnd:this.release,onMouseDown:this.tap,onMouseMove:this.drag,onMouseUp:this.release,style:{height:"100%",width:"100%"}},i.Children.only(this.props.children))},xpos:function(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX},track:function(){var t,e,s,i;t=Date.now(),e=t-this.timestamp,this.timestamp=t,s=this.offset-this.frame,this.frame=this.offset,i=1e3*s/(1+e),this.velocity=.8*i+.2*this.velocity},scroll:function(t){this.offset=t,this.props.onScroll(t)},autoScroll:function(){var t,e;this.amplitude&&(t=Date.now()-this.timestamp,e=this.amplitude*Math.exp(-t/r),e>10||-10>e?(this.scroll(this.target-e),requestAnimationFrame(this.autoScroll)):this.scroll(this.target))},tap:function(t){this.pressed=!0,this.reference=this.xpos(t),this.velocity=this.amplitude=0,this.frame=this.offset,this.timestamp=Date.now(),clearInterval(this.ticker),this.ticker=setInterval(this.track,10),t.preventDefault(),t.stopPropagation()},drag:function(t){var e,s;this.pressed&&(e=this.xpos(t),s=this.reference-e,(s>2||-2>s)&&(this.reference=e,this.scroll(this.offset+s))),t.preventDefault(),t.stopPropagation()},release:function(t){var e=this.props.snap;this.pressed=!1,clearInterval(this.ticker),0==this.velocity?this.offset%e!=0&&(this.target=this.offset%e<e/2?Math.ceil(this.offset/e)*e-e:Math.floor(this.offset/e)*e+e):this.target=this.velocity<0?Math.ceil(this.offset/e)*e-e:Math.floor(this.offset/e)*e+e,"number"==typeof this.props.size&&(this.target=Math.max(0,Math.min(this.props.size,Math.round(this.target/e)*e))),this.amplitude=this.target-this.offset,this.timestamp=Date.now(),requestAnimationFrame(this.autoScroll),t.preventDefault(),t.stopPropagation()}});n.propTypes={onScroll:i.PropTypes.func,snap:i.PropTypes.number,size:i.PropTypes.number},t.exports=n},function(t,e,s){t.exports={applyTranslateStyle:function(t,e,s,i){var r="translate3d("+e.toString()+"px,"+s+"px,"+i+"px)";return t.Transform=r,t.WebkitTransform=r,t.msTransform=r,t.MozTransform=r,t}}}])});